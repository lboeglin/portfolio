@import 'tailwindcss';
@plugin "@tailwindcss/typography";
@plugin "daisyui" {
  themes:
    caramellatte --default,
    coffee --prefersdark;
}

/* 1. DEFINE ANIMATIONS GLOBALLY */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@layer components {
  .hover-expand {
    @apply relative z-10 inline-grid place-items-center overflow-visible p-2 cursor-pointer;
  }

  .hover-expand::before {
    content: '';
    @apply absolute w-full h-full rounded-full -z-10 opacity-0 transition-all duration-300 ease-out;
    background-color: currentColor;
    transform: scale(0);
  }

  .hover-expand:hover::before {
    @apply opacity-15;
    transform: scale(1);
  }

  /* --- Badge Wrapper (Handles the entrance animation) --- */
  .badge-wrapper {
    @apply inline-block opacity-0;
    animation: fadeInUp 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    animation-delay: calc(var(--i, 0) * 0.2s);
  }

  /* --- Animated Link (Underline Effect) --- */
  .animated-link {
    @apply relative inline-flex pb-0.5 no-underline duration-300 transition-colors;
  }

  .animated-link::after {
    content: '';
    @apply absolute bottom-0 left-0 h-0.5 w-0 bg-current transition-[width] duration-300 ease-in-out;
  }

  .animated-link:hover::after {
    @apply w-full;
  }
  .badge-fill {
    @apply badge badge-lg badge-outline relative overflow-hidden cursor-default transition-colors duration-300;
    z-index: 1;
  }

  .badge-fill::before {
    content: '';
    @apply absolute inset-0 bg-primary -z-10 transition-transform duration-300 ease-out;
    transform-origin: bottom;
    transform: scaleY(0);
  }

  .badge-fill:hover::before {
    transform: scaleY(1);
  }

  .badge-fill:hover {
    @apply text-primary-content border-primary;
  }

  .badge-tech {
    @apply badge h-auto py-1.5 px-3 border-0 font-semibold tracking-wide shadow-sm transition-all duration-200 select-none;
  }

  /* --- Color Variants --- */

  /* BLUE */
  .badge-tech-blue {
    /* Default */
    @apply bg-blue-100 text-slate-900 hover:bg-blue-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-blue-200 text-blue-900 hover:bg-blue-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-blue-500/15 text-blue-300 hover:bg-blue-500/25;
    }
  }

  /* CYAN */
  .badge-tech-cyan {
    @apply bg-cyan-100 text-slate-900 hover:bg-cyan-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-cyan-200 text-cyan-900 hover:bg-cyan-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-cyan-500/15 text-cyan-300 hover:bg-cyan-500/25;
    }
  }

  /* GREEN */
  .badge-tech-green {
    @apply bg-green-100 text-slate-900 hover:bg-green-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-green-200 text-green-900 hover:bg-green-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-green-500/15 text-green-300 hover:bg-green-500/25;
    }
  }

  /* EMERALD */
  .badge-tech-emerald {
    @apply bg-emerald-100 text-slate-900 hover:bg-emerald-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-emerald-200 text-emerald-900 hover:bg-emerald-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-emerald-500/15 text-emerald-300 hover:bg-emerald-500/25;
    }
  }

  /* YELLOW */
  .badge-tech-yellow {
    @apply bg-yellow-100 text-slate-900 hover:bg-yellow-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-yellow-200 text-yellow-900 hover:bg-yellow-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-yellow-500/20 text-yellow-200 hover:bg-yellow-500/30;
    }
  }

  /* RED */
  .badge-tech-red {
    @apply bg-red-100 text-slate-900 hover:bg-red-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-red-200 text-red-900 hover:bg-red-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-red-500/15 text-red-300 hover:bg-red-500/25;
    }
  }

  /* PURPLE */
  .badge-tech-purple {
    @apply bg-purple-100 text-slate-900 hover:bg-purple-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-purple-200 text-purple-900 hover:bg-purple-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-purple-500/15 text-purple-300 hover:bg-purple-500/25;
    }
  }

  /* PINK */
  .badge-tech-pink {
    @apply bg-pink-100 text-slate-900 hover:bg-pink-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-pink-200 text-pink-900 hover:bg-pink-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-pink-500/15 text-pink-300 hover:bg-pink-500/25;
    }
  }

  /* ORANGE */
  .badge-tech-orange {
    @apply bg-orange-100 text-slate-900 hover:bg-orange-200;

    :root[data-theme='caramellatte'] & {
      @apply bg-orange-200 text-orange-900 hover:bg-orange-300;
    }
    :root[data-theme='coffee'] & {
      @apply bg-orange-500/15 text-orange-300 hover:bg-orange-500/25;
    }
  }

  /* GRAY */
  .badge-tech-gray {
    @apply bg-gray-200 text-gray-800 hover:bg-gray-300;

    :root[data-theme='caramellatte'] & {
      @apply bg-gray-300 text-gray-900 hover:bg-gray-400;
    }
    :root[data-theme='coffee'] & {
      @apply bg-gray-500/20 text-gray-300 hover:bg-gray-500/30;
    }
  }
}

/* View Transitions */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.5s;
}

html.theme-changing,
html.theme-changing *,
html.theme-changing *::before,
html.theme-changing *::after {
  transition: none !important;
  animation-duration: 0s !important;
}
