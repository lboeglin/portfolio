---
interface Props {
  name: string;
  class?: string;
}

const { name, class: className } = Astro.props;

const techMap: Record<string, string> = {
  // --- Languages ---
  'c++': 'blue',
  'c#': 'purple',
  c: 'blue',
  java: 'orange',
  kotlin: 'kotlin',
  rust: 'orange',
  go: 'cyan',
  php: 'purple',
  python: 'yellow',
  typescript: 'blue',
  javascript: 'yellow',
  dart: 'cyan',
  assembly: 'gray',
  latex: 'emerald',

  // --- Frameworks & Libraries ---
  springboot: 'green',
  'spring boot': 'green',
  react: 'cyan',
  angular: 'red',
  vue: 'emerald',
  astro: 'orange',
  'jetpack compose': 'green',
  'android studio': 'green',
  laravel: 'red',
  symfony: 'gray',
  pandas: 'blue',
  numpy: 'cyan',
  sklearn: 'orange',
  'scikit-learn': 'orange',
  junit: 'green',

  // --- Game Dev ---
  'unreal engine': 'gray',
  godot: 'blue',
  unity: 'gray',

  // --- Database ---
  'oracle sql': 'red',
  oraclesql: 'red',
  oracle: 'red',
  'microsoft sql': 'red',
  mysql: 'blue',
  postgresql: 'blue',
  sqlite: 'blue',
  mongodb: 'green',
  mariadb: 'orange',
  supabase: 'emerald',
  redis: 'red',
  h2: 'blue',

  // --- DevOps & Tools ---
  docker: 'blue',
  podman: 'purple',
  kubernetes: 'blue',
  jenkins: 'red',
  'ci/cd': 'gray',
  git: 'red',
  github: 'gray',
  gitlab: 'orange',
  apache: 'red',
  nginx: 'green',
  linux: 'gray',
  bash: 'gray',
  figma: 'purple',
  bruno: 'orange',
  'spring security': 'green',

  // --- Web & Data ---
  html: 'orange',
  css: 'blue',
  scss: 'pink',
  tailwind: 'cyan',
  graphql: 'pink',
  node: 'green',
  '.net': 'purple',
  'entity framework': 'purple',
  'rest api': 'cyan',

  // --- Concepts / Other ---
  scrum: 'orange',
  agile: 'blue',
  lidar: 'red',
  '3d point cloud visualization': 'cyan',
  'visualisation 3d nuage de points': 'cyan',
  'dll interop': 'gray',
  microservices: 'purple',
};

const key = name.toLowerCase();
const matchedKey = Object.keys(techMap).find((k) => key.includes(k)) || '';
const color = techMap[key] || techMap[matchedKey] || 'gray';

const badgeColorClass = `badge-tech-${color}`;
---

<span class:list={['badge-tech', badgeColorClass, className]}>
  <span class="text-xs">{name}</span>
</span>
